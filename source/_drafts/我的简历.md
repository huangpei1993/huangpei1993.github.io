---
title: 我的简历
tags:
---

## 自我介绍

面试官您好，很荣幸能参加贵公司的面试，我是黄培，是中山大学数学学院的硕士研究生，面试的岗位是Java后端开发。

在本科和研究生阶段，我除了学习计算机网络、操作系统、数据结构与算法、Java基础等课程之外，还深入学习了各种框架以及一些组件，如Redis、Spring、Mybatis、Mysql。同时为了写出性能更好、BUG更少的代码，我深入学习了Java虚拟机、Java并发等内容。

在学习了Netty之后，我用它实现了一个高性能的内网穿透工具，目前支持TCP、UDP隧道、以及域名解析功能

## JVM线上调优

\-Xms:堆初始化内存大小，默认值是1/64
\-Xmx:最大分配内存大小，默认是1/4
\-Xss：线程栈大小，在Linux x64中是1024 KB
\-Xmn：设置年轻代(eden+2\*survivor)大小，默认年轻代的最大空间是堆总大小的1/3，所以老年代是2/3

### 听风时尚电商小程序

1.  秒杀服务的JVM调优

一些通用的指标：

**年轻代对象增长的速率**
可以执行命令 jstat -gc pid 1000 10 (每隔1秒执行1次命令，共执行10次)，通过观察EU(eden区的使用)来估算每秒eden大概新增多少对象，如果系统负载不高，可以把频率1秒换成1分钟，甚至10分钟来观察整体情况。注意，一般系统可能有高峰期和日常期，所以需要在不同的时间分别估算不同情况下对象增长速率。

**Young GC的触发频率和每次耗时**
知道年轻代对象增长速率我们就能推根据eden区的大小推算出Young GC大概多久触发一次，Young GC的平均耗时可以通过 YGCT/YGC 公式算出，根据结果我们大概就能知道系统大概多久会因为Young GC的执行而卡顿多久。

**每次Young GC后有多少对象存活和进入老年代**
这个因为之前已经大概知道Young GC的频率，假设是每5分钟一次，那么可以执行命令 jstat -gc pid 300000 10 ，观察每次结果eden，survivor和老年代使用的变化情况，在每次gc后eden区使用一般会大幅减少，survivor和老年代都有可能增长，这些增长的对象就是每次Young GC后存活的对象，同时还可以看出每次Young GC后进去老年代大概多少对象，从而可以推算出老年代对象增长速率。

**Full GC的触发频率和每次耗时**
知道了老年代对象的增长速率就可以推算出Full GC的触发频率了，Full GC的每次耗时可以用公式 FGCT/FGC 计算得出。

**优化思路**其实简单来说就是尽量让每次Young GC后的存活对象小于Survivor区域的50%，都留存在年轻代里。尽量别让对象进入老年代。尽量减少Full GC的频率，避免频繁Full GC对JVM性能的影响。

*   根据启动时的JVM参数画出JVM运行时的各个区域的内存大小
*   计算出对象在各个区域中的流动速率(MB/s)，可以用一段时间内移动多少MB
*   保证在开始的1min钟内尽可能少的进行full GC

1.  购物车服务
    除了有单独的数据库表以外，为了加快访问的速度，我们同时在redis上做了缓存，具体的数据结构为每个用户的购物车为一个hash，键为`cart:{user_id}`，hash里的键为产品ID`product_id`，值为该商品的数量

2.  防止用户重复下单
    除了在前端页面将下单按钮变为不可用之外，因为可能会存在网络阻塞等情况，而导致用户重复下单，所以我们认为用户在5s内的第二次下单是无效的，具体做法是：用`setnx`命令设置一个键`order:{user_id}`，并且设置其过期时间为5s，如果设置成功则可以下单，否则提示重复下单。（这5s是一个折衷的方案）

3.  订单有效期的实现
    首先，我们使用一个10min执行一次的定时任务，拉取那些过期时间在上次结束时间到10min之后的订单，放入一个延迟队列中，该队列是基于JVM的DelayQueue实现的。第一次拉取的订单是15min之内将要过期的订单，之后的从这往后顺延10min钟，即可实现下次定时任务开始时，队列里还有5分钟内的订单，防止过期操作延迟太大。
    当然除了自己实现延迟队列外，我们还可以监听redis的过期事件，或者使用消息队列

## 可鸭校园二手交易小程序

**项目描述：** 本项目是一个大学生创业项目，旨在提供一个中山大学校园内的二手交易平台。主要功能有**商品或帖子**的发布、展示、搜索、分类、交易和评价，校园身份认证，地理位置的选择、搜索和定位等

**项目技术：** SpringBoot、Mysql、Redis、ElasticSearch等

**项目职责：** 1. 主要负责实现**商品或帖子**的发布、展示、搜索、分类、交易和评价等功能；
2.使用微信地图API实现在发布商品时进行地理位置的选择、搜索和定位等功能


### 二手交易信息分类
将分类信息放在Redis缓存以加快分类信息的加载速度

### 强大的搜索功能：
为了支持关键词搜索和模糊匹配，用户还可以根据商品分类和地点进行搜索，大大提高了搜索效率和准确性，我们将用户发布的商品信息存入ElasticSearch服务

### 商品推荐与新品发布

我们会根据浏览量和收藏量对商品进行排名，并将排名较高的商品置顶。同时，我们也会按照发布时间对新发布的商品进行置顶，以便用户及时获取最新的商品信息。

### 地理位置的选择、搜索和定位
我们利用微信地图 API实现了校园内部的定位功能，用户在发布商品时可以选择交易地点。同时，我们限制了交易范围在校园内，以确保交易的安全性。我们还为每个校区设置了单独的分类，方便用户在相应的校区进行发布和交易