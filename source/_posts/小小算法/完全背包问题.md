---
title: 完全背包问题
date: 2024-09-13 14:44:38
hidden: true
categories: 小小算法
mathjax: true
tags:
- 动态规划
- 完全背包
---

**完全背包：** 有$n$种物品，第$i$种物品的体积为$w[i]$，价值为$v[i]$，每种物品无限次重复选，求体积和不超过$capacity$时的最大价值和

## 回溯三问

### 当前能做什么操作？
枚举第$i$种物品选一个或不选：
不选：剩余容量不变；
选一个：剩余容量减少$w[i]$

### 子问题是什么？
在剩余容量为$c$时，从前$i$种物品中得到的最大价值和

### 下一个子问题是什么？
需要进行分类讨论：
不选第$i$种物品时：在剩余容量为$c$时，从前$i-1$种物品中得到的最大价值和  
选第$i$种物品时：在剩余容量为$c-w[i]$时，从前$i$种物品种得到的最大价值和

### 公式

$$
    dfs(i,c) = max(dfs(i-1,c),dfs(i,c-w[i])+v[i])
$$


## 常见变形

1. 至多装$capacity$，求方案数/最大价值和

2. 恰好装$capacity$，求方案数/最大/最小价值和

3. 至少装$capacity$，求方案数/最小价值和

$$
    dfs(i,c) = min(dfs(i-1,c),dfs(i,c-w[i])+v[i])
$$


## 改成递推

$$
    f(i,c) = max(f(i-1,c),f(i,c-w[i])+v[i])
$$